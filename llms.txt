<!-- repo: clix-so/clix-ios-sdk -->
<!-- ref: main -->
<!-- commit: dc98c2ac713412a135af55f3ac38e4b84df20b6d -->
<!-- generated_at: 2025-11-17T05:42:16Z -->
# Platform: iOS

## /
- [Package](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Package.swift): Defines the Swift Package manifest for the `Clix` iOS 15+ SDK, wiring the core library target to FirebaseMessaging, configuring debug/release Swift defines, and exposing the `Clix` library, `BasicApp` sample executable, and `ClixTests` test target.
- [Readme](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/README.md): Developer README describing Clix iOS SDK installation (SPM/CocoaPods), configuration (`ClixConfig`), async/sync APIs for user/events, push integration via `ClixAppDelegate` or `Clix.Notification`, Notification Service Extension usage, Firebase/iOS requirements, error handling, and project metadata (license, changelog, contributing).

## Samples/BasicApp/ClixNotificationExtension
- [Notificationservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/ClixNotificationExtension/NotificationService.swift): NotificationService is a `UNNotificationServiceExtension` subclass that initializes the Clix SDK (`ClixNotificationServiceExtension`), registers the project via `ClixConfiguration.projectId`, and delegates notification processing and timeout handling while logging key lifecycle events.

## Samples/BasicApp/Sources
- [Appstate](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/AppState.swift): Holds shared observable app state for the sample (singleton `AppState`), exposing published Clix initialization status plus device ID and FCM token, with helper mutators (`updateDeviceId`, `updateFCMToken`) for UI bindings via Combine.
- [Basicapp](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/BasicApp.swift): Defines the BasicApp SwiftUI entry point, wiring in `AppDelegate` via `@UIApplicationDelegateAdaptor`, globally setting `UITextView`’s background to clear in `init`, and presenting `ContentView` as the root scene in a `WindowGroup`.
- [Clixconfiguration](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/ClixConfiguration.swift): Defines the `ClixConfiguration` enum holding static `projectId` and `apiKey` values used to initialize/authenticate the Clix SDK in the BasicApp sample, centralizing required project credentials for build-time configuration.
- [Splashview](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/SplashView.swift): SwiftUI view that renders the app’s splash screen: a full-screen black background with a centered, resizable “Logo” image, used as a simple entry UI component for the BasicApp sample.
- [Appdelegate](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/AppDelegate.swift): Application delegate subclass that wires Firebase and Clix initialization, propagates APNS/FCM push tokens and the Clix device ID into `AppState`, restores a persisted user ID via `Clix.setUserId`, and relies on `ClixAppDelegate` for core push-handling behavior.
- [Theme](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/Theme.swift): Defines the `AppTheme` struct providing static SwiftUI `Color` constants for background, surface layers, primary accents, button styling, and text colors used to visually theme the BasicApp sample UI.
- [Contentview](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/ContentView.swift): SwiftUI sample screen that displays Clix configuration/app state (projectId, apiKey, deviceId, push token) and provides interactive flows for `Clix.setUserId`, `Clix.

## Sources/Core
- [Clixnotification](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/ClixNotification.swift): Singleton notification manager bridging Firebase Messaging and UNUserNotificationCenter, handling setup, token registration, foreground/background/tap flows (with image downloads and deep links), and exposing customization via `setup`, `setNotificationWillShowInForegroundHandler`, `setNotificationOpenedHandler`, and APNS/Firebase delegate helpers.
- [Clixconfig](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/ClixConfig.swift): Defines the `ClixConfig` `Codable` struct used to initialize and configure the SDK (project ID, API key, API endpoint, log level, and extra HTTP headers) as the primary configuration object consumed by Clix core components.
- [Clix](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/Clix.swift): Defines the `Clix` singleton SDK entry point, orchestrating async/sync initialization, environment and service wiring (`StorageService`, `TokenService`, `EventService`, `DeviceService`, `NotificationService`), and exposing public user identity, properties, event tracking, logging, and device/push token APIs.
- [Clixappdelegate](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/ClixAppDelegate.swift): Defines `ClixAppDelegate`, an open `UIApplicationDelegate`/`UNUserNotificationCenterDelegate` that wires app lifecycle and push-notification callbacks into `Clix.Notification` (setup, token handling, foreground/background handling, tap routing) with overridable flags and `willPresentOptions(for:)` for customization.
- [Clixenvironment](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/ClixEnvironment.swift): Encapsulates the current SDK runtime environment, holding `ClixConfig` and mutable `ClixDevice` state, with accessors (`getDevice`, `setDevice`) and a `toString` helper used for logging/diagnostics.
- [Clixversion](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/ClixVersion.swift): Defines the internal `ClixVersion` struct exposing the SDK’s current semantic version via the static `current` property, which is auto-updated by `scripts/update-version.sh` and used for internal versioning, telemetry, or header metadata.

## Sources/Models
- [Clixdevice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Models/ClixDevice.swift): Codable model representing a client device’s environment (hardware, OS, locale, app, SDK, advertising ID, and push configuration), used for serializing device metadata in API payloads and integrating with push and attribution flows.
- [Clixuserproperty](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Models/ClixUserProperty.swift): Defines the `ClixUserProperty` codable model representing a typed user attribute, including the `PropertyType` enum and the `of(name:value:)` factory that infers type (Bool, NSNumber, String, Date→ISO via `ClixDateFormatter`) into an `AnyCodable` payload.
- [Clixpushnotificationpayload](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Models/ClixPushNotificationPayload.swift): Defines the `ClixPushNotificationPayload` codable model used to deserialize incoming Clix push notification data, including message/campaign/user/device identifiers, tracking ID, landing/image URLs, and arbitrary custom properties via `AnyCodable`.

## Sources/Notification
- [Clixnotificationserviceextension](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Notification/ClixNotificationServiceExtension.swift): Extends `UNNotificationServiceExtension` to register the Clix project (`register(projectId:)`), asynchronously initialize `Clix`, and delegate rich push handling (analytics image processing) to `notificationService.handlePushReceived` / `processNotificationWithImage`, with fallback via `serviceExtensionTimeWillExpire()`.

## Sources/Services
- [Clixapiclient](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/ClixAPIClient.swift): Defines `ClixAPIClient`, the internal async HTTP wrapper around `HTTPClient.shared` that builds environment-aware `/api/v1` URLs, injects Clix auth/metadata headers from `ClixConfig`/`Clix.
- [Storageservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/StorageService.swift): Provides an actor-isolated storage layer over `UserDefaults` (preferring an app group suite via `projectId`), exposing generic Codable `set/get`, async `getWithRetry` with App Group sync and fallback handling, plus key removal and manual `synchronize()` utilities.
- [Eventservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/EventService.swift): Defines `EventService.trackEvent(.
- [Deviceapiservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/DeviceAPIService.swift): Provides the `DeviceAPIService` client for device-related REST operations, including upserting `ClixDevice` records, setting a device’s project user ID, and managing user properties via async `post`/`delete` calls inherited from `ClixAPIClient`.
- [Deviceservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/DeviceService.swift): Manages device identity and metadata, including persisted device IDs, user properties, push tokens, and push-permission state, updating `Clix.shared.
- [Notificationservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/NotificationService.swift): Tracks push notification receive/tap events, parses Clix/FCM payloads (including image URLs), downloads and attaches rich media to UNNotificationContent, manages notification preferences/permissions via UNUserNotificationCenter, and persists settings using StorageService (entrypoints: handlePushReceived/Tapped, processNotificationWithImage, setNotificationPreferences, requestNotificationPermission, reset).
- [Eventapiservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/EventAPIService.swift): Defines `EventAPIService.trackEvent(.
- [Tokenservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/TokenService.swift): Manages push token persistence and normalization, providing async APIs to get/save/clear the current token and a bounded history (max 5) via `StorageService`, plus a nonisolated `convertTokenToString(_:)` helper for converting APNs `Data` tokens to hex strings.

## Sources/Utils
- [Dateformatter](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/DateFormatter.swift): Provides a shared ISO 8601 date formatting utility (`ClixDateFormatter.format(_:)`) using `ISO8601DateFormatter` configured with internet date-time and the current time zone for consistent string serialization across the SDK.
- [Clixerror](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/ClixError.swift): Defines the `ClixError` enum as the SDK’s unified error type (with initialization, configuration, URL, response, network, encoding/decoding, and unknown cases), providing `LocalizedError` messages, `Equatable` comparison by description/underlying error, and `CustomStringConvertible` conformance for logging.

## Sources/Utils/AnyCodable
- [Anydecodable](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/AnyCodable/AnyDecodable.swift): Defines `AnyDecodable`, a type-erased `Decodable` wrapper that decodes heterogeneous JSON values into `Any`, supports nested `[AnyDecodable]` / `[String: AnyDecodable]`, uses Foundation’s `NSNull` for nulls, and provides `Equatable`, `Hashable`, and debug/description behavior.
- [Anycodable](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/AnyCodable/AnyCodable.swift): Defines `AnyCodable`, a type-erased `Codable` wrapper that forwards encoding/decoding via `_AnyEncodable`/`_AnyDecodable`, supports literal initialization, equality and hashing for common scalar/collection types, and is used for heterogeneous Codable dictionaries/arrays.
- [Anyencodable](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/AnyCodable/AnyEncodable.swift): Defines `AnyEncodable`, a type-erased `Encodable` wrapper that supports literal initialization, equality, hashing, and Foundation bridging, and encodes heterogeneous values (scalars, arrays, dictionaries, NSNumber, Date, URL, nil) via a single-value container.

## Sources/Utils/HTTP
- [Httprequest](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/HTTP/HTTPRequest.swift): Defines a lightweight `HTTPRequest` value type encapsulating request URL, HTTP method, query/body parameters, headers, and optional `Encodable` payload, serving as the core internal representation for constructing and dispatching HTTP calls in the networking layer.
- [Httpresponse](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/HTTP/HTTPResponse.swift): Generic container representing an HTTP response, encapsulating typed payload `data`, numeric `statusCode`, and raw `headers` for use by networking utilities and higher-level API clients.
- [Httpmethod](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/HTTP/HTTPMethod.swift): Defines the `HTTPMethod` raw-value enum encapsulating supported HTTP verbs (`GET`, `POST`, `PUT`, `DELETE`) for use across networking utilities, request builders, and API clients that require type-safe method selection.
- [Httpclient](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/HTTP/HTTPClient.swift): Provides a singleton, async/await-based HTTP client around URLSession that builds query URLs/JSON headers, encodes/decodes ISO-8601 dates, logs responses, maps errors to ClixError, and exposes typed get/post/put/delete/download helpers returning HTTPResponse or file URLs.

## Sources/Utils/Logging
- [Clixlogger](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/Logging/ClixLogger.swift): Centralized logging utility wrapping `os.Logger`, with configurable global `ClixLogLevel` via `setLogLevel(_:)`, timestamped ISO-8601 messages, optional `Error` descriptions, and convenience static entry points (`debug`, `info`, `warn`, `error`) used throughout the SDK.
- [Clixloglevel](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/Logging/ClixLogLevel.swift): Defines the `ClixLogLevel` `Codable` and `Comparable` enum, providing ordered log severity levels (`none`, `error`, `warn`, `info`, `debug`) as `Int` raw values for configuring and comparing logging verbosity across the SDK.

## Tests
- [Clixtests](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Tests/ClixTests.swift): Defines the `ClixTests` XCTestCase entry point, currently containing a placeholder `testExample()` method for future unit tests targeting the `Clix` module via `@testable import`.
