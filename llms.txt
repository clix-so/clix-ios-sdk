<!-- repo: clix-so/clix-ios-sdk -->
<!-- ref: main -->
<!-- commit: fc3c8d5e231373faf1dce3827980f634861e83fa -->
<!-- generated_at: 2025-11-24T01:24:25Z -->
# Platform: iOS

## /
- [Package](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Package.swift): Defines the Swift Package manifest for the `Clix` iOS 15+ SDK, wiring the core library target to FirebaseMessaging, configuring debug/release Swift defines, and exposing the `Clix` library, `BasicApp` sample executable, and `ClixTests` test target.
- [Readme](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/README.md): README for Clix iOS SDK: documents initialization via Clix.initialize(ClixConfig), AppDelegate integration (ClixAppDelegate or Clix.

## Samples/BasicApp/ClixNotificationExtension
- [Notificationservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/ClixNotificationExtension/NotificationService.swift): Implements the notification service extension by subclassing `ClixNotificationServiceExtension`, registering the Clix project ID on init, delegating `UNNotificationServiceExtension` lifecycle methods (`didReceive`, `serviceExtensionTimeWillExpire`) to the Clix SDK, and adding basic logging.

## Samples/BasicApp/Sources
- [Appstate](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/AppState.swift): Centralized `ObservableObject` singleton holding Clix sample app state, exposing published properties for SDK initialization status, device ID, and FCM token, with helper updaters that normalize missing values to user-friendly placeholder strings.
- [Basicapp](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/BasicApp.swift): Defines the BasicApp SwiftUI entry point, wiring the UIKit-based `AppDelegate` via `@UIApplicationDelegateAdaptor`, configuring global `UITextView` appearance, and presenting `ContentView` within the main `WindowGroup` scene.
- [Clixconfiguration](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/ClixConfiguration.swift): Defines the `ClixConfiguration` enum holding the app’s `projectId` and `apiKey` constants used to initialize and authenticate the Clix iOS SDK within the BasicApp sample.
- [Splashview](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/SplashView.swift): Displays a full-screen black splash screen using SwiftUI, centering a resizable “Logo” image; used as the app’s initial view with no external dependencies or public APIs beyond the `SplashView` entry point.
- [Appdelegate](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/AppDelegate.swift): AppDelegate subclassing ClixAppDelegate that initializes Firebase and Clix (Clix.initialize with ClixConfig), overrides autoRequestPermission/autoHandleLandingURL, processes APNS/FCM registration callbacks, sets saved userId, and updates AppState via Clix.
- [Theme](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/Theme.swift): Defines the `AppTheme` struct that centralizes static `SwiftUI.Color` constants for background, surfaces, primary tint, button styling, and general text colors used throughout the BasicApp sample UI.
- [Contentview](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Samples/BasicApp/Sources/ContentView.swift): ContentView.swift defines the sample app’s main SwiftUI screen that displays Clix configuration/device info and provides UI flows to set the user ID, update user properties, and track events (JSON-parsed properties) via the Clix SDK, persisting user_id with UserDefaults.

## Sources/Core
- [Clixnotification](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/ClixNotification.swift): ClixNotification manages Firebase Messaging and UNUserNotificationCenter integration—registering for remote notifications, processing FCM/APNs tokens, permission requests, foreground/background message handlers (onMessage/onBackgroundMessage/onNotificationOpened), auto-opening landing URLs, image attachment fetching, and token CRUD (getToken/deleteToken).
- [Clixconfig](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/ClixConfig.swift): Defines the `ClixConfig` `Codable` struct used to initialize and configure the Clix SDK, encapsulating project ID, API key, API endpoint, log level, and extra HTTP headers with sensible defaults for network and logging behavior.
- [Clix](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/Clix.swift): Clix.swift defines the SDK singleton entrypoint that initializes Storage/Token/Event/Device/Notification services (async/sync initialize), manages InitCoordinator synchronization, persists ClixConfig, and exposes thread‑safe public APIs: initialize(config:), set/remove userId/properties, trackEvent, getDeviceId, and Notification proxy.
- [Clixappdelegate](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/ClixAppDelegate.swift): ClixAppDelegate is an open UIApplicationDelegate/UNUserNotificationCenterDelegate base class that wires UNUserNotificationCenter, forwards APNs token, launch/foreground/background notifications and responses to Clix.Notification, configurable via overridable properties; depends on FirebaseCore/FirebaseMessaging.
- [Clixenvironment](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/ClixEnvironment.swift): Defines `ClixEnvironment`, a lightweight container for `ClixConfig` and mutable `ClixDevice` state, exposing `getDevice()`, `setDevice(_:)`, and a string representation used to describe the current SDK runtime environment.
- [Clixversion](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Core/ClixVersion.swift): Defines internal ClixVersion struct exposing the auto-updated SDK semantic version string via ClixVersion.current (internal), maintained by scripts/update-version.

## Sources/Models
- [Clixdevice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Models/ClixDevice.swift): Defines the `ClixDevice` `Codable` model encapsulating device, OS, locale, app, SDK, advertising ID, and push-notification metadata used for serialization and transmission to Clix backend APIs.
- [Clixuserproperty](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Models/ClixUserProperty.swift): ClixUserProperty.swift defines a Codable ClixUserProperty (name, value: AnyCodable, type) and PropertyType enum, exposing init and static of(name:value) factory that infers types (Bool/NSNumber/String/Date→ISO via ClixDateFormatter) for serialization.
- [Clixpushnotificationpayload](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Models/ClixPushNotificationPayload.swift): Defines ClixPushNotificationPayload (Codable) representing push fields and provides static decode(from userInfo:) that parses the "clix" userInfo (dictionary or JSON string) into the model using ClixJSONCoders.decoder and logs failures via ClixLogger.

## Sources/Notification
- [Clixnotificationserviceextension](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Notification/ClixNotificationServiceExtension.swift): Implements a `UNNotificationServiceExtension` subclass that initializes the Clix SDK (`register(projectId:)`), retrieves `notificationService` via `Clix.shared`, tracks push receipt, processes rich-media notifications (`processNotificationWithImage`), and safely falls back when the extension times out.

## Sources/Services
- [Clixapiclient](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/ClixAPIClient.swift): Defines `ClixAPIClient`, an internal async HTTP wrapper that builds environment-aware `/api/v1` URLs, injects Clix auth/metadata headers (from `ClixConfig` or `Clix.shared`), and exposes typed `get`, `post`, `delete`, and `download` methods via the shared `HTTPClient`.
- [Storageservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/StorageService.swift): Actor-based storage service wrapping UserDefaults (preferring an App Group suite for a given projectId) to persist Codable values, with typed set/get APIs, retry-based getWithRetry sync helper, and basic remove/synchronize utilities plus logging side-effects.
- [Eventservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/EventService.swift): EventService exposes async throws trackEvent(name:properties:messageId:userJourneyId:userJourneyNodeId:) that retrieves deviceId from Clix.environment, serializes non-nil properties into AnyCodable (booleans vs numbers, Dates→ISO strings, strings/others), calls EventAPIService, logs and rethrows errors.
- [Deviceapiservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/DeviceAPIService.swift): DeviceAPIService (subclassing ClixAPIClient) exposes async throws methods—upsertDevice, setProjectUserId, upsertUserProperties, removeUserProperties—that marshal ClixDevice/ClixUserProperty into JSON (via ClixJSONCoders/JSONSerialization) and POST/DELETE to /devices endpoints, expecting EmptyResponse.
- [Deviceservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/DeviceService.swift): Actor DeviceService manages device identity and remote syncing: persists/generates deviceId in StorageService, builds ClixDevice (createDevice), updates Clix.shared environment, upserts/removes user properties and projectUserId via DeviceAPIService, and saves push tokens via TokenService.
- [Notificationservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/NotificationService.swift): NotificationService handles push payload decoding, deduplicated event tracking (handlePushReceived/handlePushTapped) via EventService, image extraction/download into UNNotificationAttachment, user permission/settings persistence via StorageService, and exposes async/callback APIs for processing and resets.
- [Eventapiservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/EventAPIService.swift): EventAPIService (ClixAPIClient) exposes async throws trackEvent(..
- [Tokenservice](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Services/TokenService.swift): Manages APNs push token persistence and migration using `StorageService`, exposing async APIs to get/set the current token, maintain a capped history of previous tokens, clear all tokens, and convert `Data` device tokens to hex strings.

## Sources/Utils
- [Clixjsoncoders](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/ClixJSONCoders.swift): Defines ClixJSONCoders.encoder and.
- [Clixdateformatter](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/ClixDateFormatter.swift): Provides a namespace-style ClixDateFormatter that formats Dates to ISO8601 strings (internet date-time with time zone) via a lazily-initialized ISO8601DateFormatter using TimeZone.current; public API: static func format(_ date: Date) -> String.
- [Dateformatter](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/DateFormatter.swift): Provides a utility for formatting `Date` instances into ISO 8601 internet date-time strings using a shared `ISO8601DateFormatter` configured with the current time zone via the static `ClixDateFormatter.format(_:)` API.
- [Clixerror](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/ClixError.swift): Defines the `ClixError` enum as the SDK’s central error type (conforming to `Error`, `LocalizedError`, `Equatable`, `CustomStringConvertible`), modeling initialization/configuration/network/encoding/decoding failures with localized descriptions and custom equality for network, decoding, and unknown errors.

## Sources/Utils/AnyCodable
- [Anydecodable](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/AnyCodable/AnyDecodable.swift): Defines `AnyDecodable`, a type-erased `Decodable` wrapper that decodes JSON scalars, arrays, and dictionaries into `Any`, provides value-based `Equatable`, `Hashable`, and string/debug descriptions, and is used for heterogeneous payloads via `[String: AnyDecodable]` or `[AnyDecodable]`.
- [Anycodable](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/AnyCodable/AnyCodable.swift): Defines `AnyCodable`, a type-erased `Codable` wrapper that forwards encoding/decoding via `_AnyEncodable`/`_AnyDecodable`, supports literal initialization, equality, hashing, and string/debug descriptions for common primitive/collection types used in heterogeneous payloads.
- [Anyencodable](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/AnyCodable/AnyEncodable.swift): Defines `AnyEncodable`, a type-erased `Encodable` wrapper that supports literal initialization, heterogeneous collection encoding (including Foundation types like `NSNumber`, `Date`, `URL`), and provides custom `Equatable`, `Hashable`, and string description behavior via a shared `_AnyEncodable` implementation.

## Sources/Utils/HTTP
- [Httprequest](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/HTTP/HTTPRequest.swift): Defines a lightweight `HTTPRequest` value type encapsulating request URL, HTTP method, query/body parameters, headers, and an optional `Encodable` payload for use by higher-level networking components in the SDK’s HTTP utilities.
- [Httpresponse](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/HTTP/HTTPResponse.swift): Defines a generic HTTPResponse wrapper that carries typed response data, the HTTP status code, and raw headers, used as a common model for HTTP utilities and networking flows.
- [Httpmethod](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/HTTP/HTTPMethod.swift): Defines the `HTTPMethod` string-backed enum encapsulating supported HTTP verbs (`GET`, `POST`, `PUT`, `DELETE`) for type-safe use across the SDK’s networking layer and request construction APIs.
- [Httpclient](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/HTTP/HTTPClient.swift): HTTPClient is a singleton URLSession wrapper that builds JSON headers and query params, encodes bodies with ClixJSONCoders, decodes responses into Decodable types, logs output, maps errors to ClixError, and exposes request/get/post/put/delete/download APIs.

## Sources/Utils/Logging
- [Clixlogger](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/Logging/ClixLogger.swift): Provides a centralized, static logging utility around `os.Logger` for the SDK, with ISO8601-timestamped messages, configurable global `ClixLogLevel` via `setLogLevel`, and convenience entry points `debug`, `info`, `warn`, and `error` supporting optional `Error` details.
- [Clixloglevel](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Sources/Utils/Logging/ClixLogLevel.swift): Defines the `ClixLogLevel` `Codable` and `Comparable` enum specifying ordered logging severity levels (`none`, `error`, `warn`, `info`, `debug`) used to configure and compare log verbosity throughout the Clix SDK.

## Tests
- [Clixtests](https://raw.githubusercontent.com/clix-so/clix-ios-sdk/main/Tests/ClixTests.swift): Defines the placeholder `ClixTests` XCTestCase class for the Clix module, providing a scaffold `testExample()` method to add unit tests that validate Clix’s public APIs and behaviors.
